<HTML>
<HEAD>
<TITLE>BIT: Bitwise OR of signed byte value (BIT_IOR_OF_SIGNED_BYTE)</TITLE>
</HEAD>
<BODY>
<H2>BIT: Bitwise OR of signed byte value (BIT_IOR_OF_SIGNED_BYTE)</H2>
<p> Loads a value from a byte array and performs a bitwise OR with
that value. Values loaded from a byte array are sign extended to 32 bits
before any any bitwise operations are performed on the value.
Thus, if <code>b[0]</code> contains the value <code>0xff</code>, and
<code>x</code> is initially 0, then the code 
<code>((x << 8) | b[0])</code>  will sign extend <code>0xff</code>
to get <code>0xffffffff</code>, and thus give the value
<code>0xffffffff</code> as the result.
</p>

<p>In particular, the following code for packing a byte array into an int is badly wrong: </p>
<code>
int result = 0;
for(int i = 0; i &lt; 4; i++) 
  result = ((result &lt;&lt; 8) | b[i]);
</code>

<p>The following idiom will work instead: </p>
<code>
int result = 0;
for(int i = 0; i &lt; 4; i++) 
  result = ((result &lt;&lt; 8) | (b[i] &amps; 0xff));
</code>
</BODY>
</HTML>
