<!doctype html>
<html lang="en">
<head><title>UseCorrectExceptionLogging</title></head>
<body>
<h2><a name="UseCorrectExceptionLogging"></a>UseCorrectExceptionLogging</h2>

<p>To make sure the full stacktrace is printed out, use the logging statement with two arguments: a String and a Throwable.</p>

<div>
<pre>
//CatchStatement/Block/BlockStatement/Statement/StatementExpression
/PrimaryExpression[PrimaryPrefix/Name[starts-with(@Image,
concat(ancestor::ClassOrInterfaceDeclaration/ClassOrInterfaceBody/ClassOrInterfaceBodyDeclaration/FieldDeclaration
[Type//ClassOrInterfaceType[@Image='Log']]
/VariableDeclarator/VariableDeclaratorId/@Image, '.'))]]
[PrimarySuffix/Arguments[@ArgumentCount='1']]
[PrimarySuffix/Arguments//Name/@Image = ancestor::CatchStatement/FormalParameter/VariableDeclaratorId/@Image]
</pre></div>
<p>Example(s):</p>

<div>
<pre>
public class Main {
   private static final Log _LOG = LogFactory.getLog( Main.class );
   void bar() {
     try {
     } catch( Exception e ) {
      _LOG.error( e ); //Wrong!
     } catch( OtherException oe ) {
      _LOG.error( oe.getMessage(), oe ); //Correct
     }
   }
}
</pre></div>
</body>
</html>